<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<title>Recipe Statistics</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

	<nav class="navbar navbar-expand-lg navbar-dark" style="background:linear-gradient(135deg,#ff7043,#e64a19)">
		<div class="container">
			<a class="navbar-brand" th:href="@{/recipes}">
				<i class="fas fa-chart-pie me-2"></i>Recipe Stats
			</a>
			<a class="btn btn-light fw-semibold" th:href="@{/recipes}">
				← Back to Recipes
			</a>
		</div>
	</nav>

	<main class="container py-5">

		<header class="text-center mb-5">
			<h1 class="display-5 fw-semibold text-danger">Your Collection at a Glance</h1>
			<p class="lead text-secondary">Quick insights into all the recipes you’ve logged.</p>
		</header>

		<div th:if="${total > 0}">
			<div class="row gy-4 justify-content-center">
				<div class="col-sm-6 col-lg-4">
					<div class="card shadow-sm border-0">
						<div class="card-body text-center">
							<h5 class="card-title fw-semibold">Total Recipes</h5>
							<p class="display-6 mb-0" th:text="${total}">0</p>
						</div>
					</div>
				</div>

				<div class="col-sm-6 col-lg-4">
					<div class="card shadow-sm border-0">
						<div class="card-body text-center">
							<h5 class="card-title fw-semibold">Average&nbsp;Cooking&nbsp;Time</h5>
							<p class="display-6 mb-0">
								<span th:text="${#numbers.formatDecimal(averageTime,0,'COMMA',2,'POINT')}">0</span>
								<small class="fs-5">min</small>
							</p>
						</div>
					</div>
				</div>
			</div>

			<section class="mt-5">
				<h3 class="text-center fw-semibold mb-4">Difficulty Breakdown</h3>

				<div class="row justify-content-center">
					<div class="col-lg-6">
						<ul class="list-group shadow-sm">
							<li class="list-group-item d-flex justify-content-between align-items-center"
								th:each="entry : ${difficultyCounts}">
								<span class="fw-medium" th:text="${entry.key}">Difficulty</span>
								<span class="badge rounded-pill bg-primary" th:text="${entry.value}">0</span>
							</li>
						</ul>
					</div>
				</div>
			</section>
		</div>

		<div class="text-center text-muted" th:if="${total == 0}">
			<i class="fas fa-utensils fa-3x mb-3"></i>
			<h3>No recipes yet</h3>
			<p class="mb-4">Add some recipes first and your stats will appear here.</p>
			<a class="btn btn-success" th:href="@{/recipes/new}">
				<i class="fas fa-plus me-1"></i> Add Your First Recipe
			</a>
		</div>

	</main>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://kit.fontawesome.com/a2e0d7efeb.js" crossorigin="anonymous"></script>
</body>

</html>